{
    "collab_server" : "",
    "contents" : "# Setting Directory and Importing Files\n\nsetwd(list.dirs(path = \"/Users/jessicalerner/Documents/CT Mirror/Hackathons/Assault Weapons\"))\n\nguns.corr <- read.csv(file = \"gun.correlation.csv\")\n\n# Loading Libraries\n\nlibrary(readxl)\nlibrary(tidyr)\nlibrary(stringr)\nlibrary(dplyr)\nlibrary(ggplot2)\n\n# Fixing Cases\n\nguns.corr$FFL <- as.numeric(guns.corr$FFL)\n\n# Correlation Testing\n\ncor.test(guns.corr$Firearm.Deaths, guns.corr$Registered.Firearms)\ncor.test(guns.corr$Firearm.Death.Rate, guns.corr$Registered.Firearms)\ncor.test(guns.corr$Firearm.Deaths, guns.corr$Mass.Shootings)\ncor.test(guns.corr$Firearm.Death.Rate, guns.corr$Mass.Shootings)\ncor.test(guns.corr$Firearm.Deaths, guns.corr$Background.Checks)\ncor.test(guns.corr$Firearm.Death.Rate, guns.corr$Background.Checks)\ncor.test(guns.corr$Firearm.Deaths, guns.corr$FFL)\ncor.test(guns.corr$Firearm.Death.Rate, guns.corr$FFL)\ncor.test(guns.corr$Firearm.Deaths, guns.corr$Taxes)\ncor.test(guns.corr$Firearm.Death.Rate, guns.corr$Taxes)\ncor.test(guns.corr$Firearm.Deaths, guns.corr$Median.Household.Income)\ncor.test(guns.corr$Firearm.Death.Rate, guns.corr$Median.Household.Income)\n\n# Scatterplots\n\noptions(scipen=50000000)\n\nggplot(guns.corr, aes(x=Firearm.Deaths, y=Registered.Firearms)) +\n  geom_point(shape=1, colour = \"purple\") +    # Use hollow circles\n  geom_smooth(method=lm) +  # Add linear regression line \n#  (by default includes 95% confidence region)\n  xlab(\"Number of Firearm Deaths\") + # X-axis Label\n  ylab(\"Number of Number of National \\n Firearms Act Registered Weapons\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Registered Firearms\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Death.Rate, y=Registered.Firearms)) +\n  geom_point(shape=1, colour = \"red\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Firearm Death Rate\") + # X-axis Label\n  ylab(\"Number of National Firearms \\n Act Registered Weapons\") + # Y-axis Label  \n  ggtitle(\"Correlation between Firearm Deaths and \\n Registered Firearms Adjusted for Population\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Deaths, y=Mass.Shootings)) +\n  geom_point(shape=1, colour = \"purple\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Number of Firearm Deaths\") + # X-axis Label\n  ylab(\"Number of Mass Shooting Fatalities\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Mass Shootings\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Death.Rate, y=Mass.Shootings)) +\n  geom_point(shape=1. colour = \"red\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Firearm Death Rate\") + # X-axis Label\n  ylab(\"Number of Mass Shooting Fatalities\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Mass Shootings Ajusted for Population\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Deaths, y=Background.Checks)) +\n  geom_point(shape=1, colour = \"purple\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Number of Firearm Deaths\") + # X-axis Label\n  ylab(\"Number of NICS Firearm Background Checks\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Background Checks\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Death.Rate, y=Background.Checks)) +\n  geom_point(shape=1, colour = \"red\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Firearm Death Rate\") + # X-axis Label\n  ylab(\"Number of NICS Firearm Background Checks\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths and  \\n Background Checks Adjusted for Population\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Deaths, y=FFL)) +\n  geom_point(shape=1, colour = \"purple\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Number of Firearm Deaths\") + # X-axis Label\n  ylab(\"Number of Federal Firearm Licensees\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Licensees\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Death.Rate, y=FFL)) +\n  geom_point(shape=1, colour = \"red\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Firearm Death Rate\") + # X-axis Label\n  ylab(\"Number of Federal Firearm Licensees\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Licensees Adjusted for Population\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Deaths, y=Taxes)) +\n  geom_point(shape=1, colour = \"purple\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Number of Firearm Deaths\") + # X-axis Label\n  ylab(\"Number of National Firearms \\n Act Special Occupational Taxpayers\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Taxpayers\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Death.Rate, y=Taxes)) +\n  geom_point(shape=1, colour = \"red\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n#  (by default includes 95% confidence region)\nxlab(\"Firearm Death Rate\") + # X-axis Label\n  ylab(\"Number of National Firearms \\n Act Special Occupational Taxpayers\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Taxpayers Adjusted for Population\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Deaths, y=Median.Household.Income)) +\n  geom_point(shape=1, colour = \"purple\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n  #  (by default includes 95% confidence region)\n  xlab(\"Number of Firearm Deaths\") + # X-axis Label\n  ylab(\"Median Household Income\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Income\") # Title and Break\n\nggplot(guns.corr, aes(x=Firearm.Death.Rate, y=Median.Household.Income)) +\n  geom_point(shape=1, colour = \"red\") +    # Use hollow circles\n  geom_smooth(method=lm) +   # Add linear regression line \n  #  (by default includes 95% confidence region)\n  xlab(\"Firearm Death Rate\") + # X-axis Label\n  ylab(\"Median Household Income\") + # Y-axis Label\n  ggtitle(\"Correlation between Firearm Deaths \\n and Income Adjusted for Population\") # Title and Break\n\n# Creating a Table\n\ngun.table <- matrix(c(0.7197073, 0.8984559, 0.6938446, 0.1919009, 0.7849699, -0.1227712, 0.007578512,  \n                      -0.06168091, 0.03080944, -0.2535531, 0.1227508, -0.5680761), ncol = 2, nrow = 6)\ncolnames(gun.table) <- c(\"Number of Firearm Deaths\", \"Firearm Death Rate\")\nrownames(gun.table) <- c(\"National Firearms Act Registered Weapons\", \"Mass Shooting Fatalities\", \"NICS Firearm Background Checks\",\n                         \"Federal Firearm Licensees\", \"National Firearms Act Special Occupational Taxpayers\", \n                         \"Median Household Income\")\n# Exporting\n\nwrite.csv(gun.table, \"gun.table.csv\")\n\n",
    "created" : 1467910358311.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3703600708",
    "id" : "F0B5A662",
    "lastKnownWriteTime" : 1467826281,
    "last_content_update" : 1467826281,
    "path" : "~/Documents/R Code/Guns.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}