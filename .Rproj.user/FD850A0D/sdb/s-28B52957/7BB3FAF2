{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Federal Student Aid Per Student Analysis\"\noutput: html_document\n---\n## Creating Loops for Processing Data for Loans 2010-12\n\n```{r temp, results=\"hide\", message=FALSE, warning=FALSE}\n\n# Loading Libraries\n\nlibrary(readxl)\nlibrary(tidyr)\nlibrary(stringr)\nlibrary(dplyr)\nlibrary(DT)\n\n# Setting Up Directory and Gathering a List\n\nlist_files <- list.files(path = \"CSV.Files\")\n\nlist_files_loans_6 <- list_files <- list.files(path = \"CSV.Files/Loans.6\")\n\n# Looping for Bringing in Excel Files\n\n# Loan.6 Looping\n\n## Loop Length\n\nloan_length_6 <- length(list_files_loans_6)\nfor (i in 1:loan_length_6) {\n\n## i is what cycle the loop is on\n  \nloan_filename_6 <- list_files_loans_6[i] \n\n## Choosing Excel Files to Loop and Creating Path Names\n\npath_name_loans_6 <-  paste0(\"CSV.Files/Loans.6/\", loan_filename_6)\nprint(path_name_loans_6)\n\ntemp_dataframe_6 <- read_excel(path_name_loans_6, sheet = 2, col_names = TRUE, col_types = NULL, na = \"\", skip = 5) \n\n## Changing Column Names\n\ncolnames(temp_dataframe_6) <- c(\"OPE.ID\", \"School\", \"State\", \"Zip.Code\", \"School.Type\", \"Recipients.1\", \"Loans.No.1\", \"Loans.Sum.1\", \"Disbursements.No.1\", \"Disbursements.Sum.1\", \"Recipients.2\", \"Loans.No.2\", \"Loans.Sum.2\", \"Disbursements.No.2\", \"Disbursements.Sum.2\",\"Recipients.3\", \"Loans.No.3\", \"Loans.Sum.3\", \"Disbursements.No.3\", \"Disbursements.Sum.3\", \"Recipients.4\", \"Loans.No.4\", \"Loans.Sum.4\", \"Disbursements.No.4\", \"Disbursements.Sum.4\", \"Recipients.5\", \"Loans.No.5\", \"Loans.Sum.5\", \"Disbursements.No.5\", \"Disbursements.Sum.5\",\n\"Recipients.6\", \"Loans.No.6\", \"Loans.Sum.6\", \"Disbursements.No.6\", \"Disbursements.Sum.6\")\n\ntemp_dataframe_6 <- temp_dataframe_6[c(\"School\", \"State\", \"School.Type\", \"Disbursements.Sum.1\", \"Disbursements.Sum.2\", \"Disbursements.Sum.3\", \"Disbursements.Sum.4\", \"Disbursements.Sum.5\", \"Disbursements.Sum.6\")]\n                                   \ntemp_dataframe_6$Total.Disbursements <- temp_dataframe_6$Disbursements.Sum.1 + temp_dataframe_6$Disbursements.Sum.2 + temp_dataframe_6$Disbursements.Sum.3 + temp_dataframe_6$Disbursements.Sum.4 + temp_dataframe_6$Disbursements.Sum.5 + temp_dataframe_6$Disbursements.Sum.6\n\ntemp_dataframe_6 <- temp_dataframe_6[c(\"School\", \"State\", \"School.Type\", \"Total.Disbursements\")]\n\ntemp_dataframe_6$Year <- loan_filename_6\n\ntemp_dataframe_6$Year <- gsub(\"DL_Dashboard_AY\", \"\", temp_dataframe_6$Year)\ntemp_dataframe_6$Year <- gsub(\"_Q4.xls\", \"\", temp_dataframe_6$Year)\n\nif (i == 1) {\nmega_dataframe_6 <- temp_dataframe_6  \n} else (\n  mega_dataframe_6 <- rbind(mega_dataframe_6, temp_dataframe_6)\n)\n\n}\n\n```\n\n### Table for Loans 2010-12\n```{r table, warning=FALSE}\n\ndatatable(mega_dataframe_6)\n\n```\n\n\n\n\n## Creating Loops for Processing Data for Loans 2012-16\n```{r temp2, results=\"hide\", message=FALSE, warning=FALSE}\n# Gathering a List\n\nlist_files <- list.files(path = \"CSV.Files\")\n\nlist_files_loans_5 <- list_files <- list.files(path = \"CSV.Files/Loans.5\")\n\n# Loan.5 Looping\n\n## Loop Length\n\nloan_length_5 <- length(list_files_loans_5)\nfor (i in 1:loan_length_5) {\n  \n## i is what cycle the loop is on\n  \nloan_filename_5 <- list_files_loans_5[i] \n  \n## Choosing Excel Files to Loop and Creating Path Names\n  \npath_name_loans_5 <- paste0(\"CSV.Files/Loans.5/\", loan_filename_5)\nprint(path_name_loans_5)\n  \ntemp_dataframe_5 <- read_excel(path_name_loans_5, sheet = 2, col_names = TRUE, col_types = NULL, na = \"\", skip = 5) \n  \n## Changing Column Names\n  \ncolnames(temp_dataframe_5) <- c(\"OPE.ID\", \"School\", \"State\", \"Zip.Code\", \"School.Type\", \"Recipients.1\", \"Loans.No.1\", \"Loans.Sum.1\", \"Disbursements.No.1\", \"Disbursements.Sum.1\", \"Recipients.2\", \"Loans.No.2\", \"Loans.Sum.2\", \"Disbursements.No.2\", \"Disbursements.Sum.2\", \"Recipients.3\", \"Loans.No.3\", \"Loans.Sum.3\", \"Disbursements.No.3\", \"Disbursements.Sum.3\", \"Recipients.4\", \"Loans.No.4\", \"Loans.Sum.4\", \"Disbursements.No.4\", \"Disbursements.Sum.4\", \"Recipients.5\", \"Loans.No.5\", \"Loans.Sum.5\", \"Disbursements.No.5\", \"Disbursements.Sum.5\")\n                                \ntemp_dataframe_5 <- temp_dataframe_5[c(\"School\", \"State\", \"School.Type\", \"Disbursements.Sum.1\", \"Disbursements.Sum.2\", \"Disbursements.Sum.3\", \"Disbursements.Sum.4\", \"Disbursements.Sum.5\")]\n\ntemp_dataframe_5$Total.Disbursements <- temp_dataframe_5$Disbursements.Sum.1 + temp_dataframe_5$Disbursements.Sum.2 + temp_dataframe_5$Disbursements.Sum.3 + temp_dataframe_5$Disbursements.Sum.4 + temp_dataframe_5$Disbursements.Sum.5\n\ntemp_dataframe_5 <- temp_dataframe_5[c(\"School\", \"State\", \"School.Type\", \"Total.Disbursements\")]\n  \ntemp_dataframe_5$Year <- loan_filename_5\n  \ntemp_dataframe_5$Year <- gsub(\"DL_Dashboard_AY\", \"\", temp_dataframe_5$Year)\ntemp_dataframe_5$Year <- gsub(\"_Q4.xls\", \"\", temp_dataframe_5$Year)\n  \nif (i == 1) {\nmega_dataframe_5 <- temp_dataframe_5  \n} else (\n  mega_dataframe_5 <- rbind(mega_dataframe_5, temp_dataframe_5)\n)\n\n}\n\n```\n\n### Table for Loans 2012-16\n```{r table2, warning=FALSE}\n\ndatatable(mega_dataframe_5)\n\n```\n\n\n\n## Creating Loops for Processing Data for Grants 2010-11\n```{r temp4, results=\"hide\", message=FALSE, warning=FALSE}\n# Grant.5 Looping\n\n## File Names\n\nlist_files_grants_5 <- list_files <- list.files(path = \"CSV.files/Grants.5\")\n\n## Loop Length\n\ngrant_length_5 <- length(list_files_grants_5)\n  \n## i is what cycle the loop is on\n  \ngrant_filename_5 <- list_files_grants_5 \n  \n## Choosing Excel Files to Loop and Creating Path Names\n  \npath_name_grants_5 <- paste0(\"CSV.Files/Grants.5/\", grant_filename_5)\nprint(path_name_grants_5)\n  \ntemp_dataframe.5 <- read_excel(path_name_grants_5, sheet = 3, col_names = TRUE, col_types = NULL, na = \"\", skip = 5) \n## Changing Column Names\n  \ncolnames(temp_dataframe.5) <- make.names(colnames(temp_dataframe.5))\n  \ncolnames(temp_dataframe.5) <- c(\"OPE.ID\", \"School\", \"State\", \"Zip.Code\", \"School.Type\", \"YTD.Recipients.1\", \"YTD.Disbursements.1\", \"YTD.Recipients.2\", \"YTD.Disbursements.2\", \"YTD.Recipients.3\", \"YTD.Disbursements.3\", \"YTD.Recipients.4\", \"YTD.Disbursements.4\", \"YTD.Recipients.5\", \"YTD.Disbursements.5\") \n  \ntemp_dataframe.5 <- temp_dataframe.5[c(\"School\", \"State\", \"School.Type\", \"YTD.Disbursements.1\", \"YTD.Disbursements.2\", \"YTD.Disbursements.3\", \"YTD.Disbursements.4\", \"YTD.Disbursements.5\")]\n  \ntemp_dataframe.5$Total.Disbursements <- temp_dataframe.5$YTD.Disbursements.1 + temp_dataframe.5$YTD.Disbursements.2 + temp_dataframe.5$YTD.Disbursements.3 + temp_dataframe.5$YTD.Disbursements.4 + temp_dataframe.5$YTD.Disbursements.5\n  \ntemp_dataframe.5 <- temp_dataframe.5[c(\"School\", \"State\", \"School.Type\", \"Total.Disbursements\")]\n\ntemp_dataframe.5$Year <- grant_filename_5\n  \ntemp_dataframe.5$Year <- gsub(\"Q4\", \"\", temp_dataframe.5$Year)\ntemp_dataframe.5$Year <- gsub(\"AY.xls\", \"\", temp_dataframe.5$Year)\n  \n```\n\n### Table for Grants 2010-11\n```{r table4, warning=FALSE}\n\ndatatable(temp_dataframe.5)\n\n```\n\n\n\n\n## Creating Loops for Processing Data for Grants 2011-16\n```{r temp3, results=\"hide\", message=FALSE, warning=FALSE}\n\n# Grant.3 Looping\n\n## File Names\n\nlist_files_grants_3 <- list_files <- list.files(path = \"CSV.files/Grants.3\")\n\n## Loop Length\n\ngrant_length_3 <- length(list_files_grants_3)\nfor (i in 1:grant_length_3) {\n  \n## i is what cycle the loop is on\n  \ngrant_filename_3 <- list_files_grants_3[i] \n  \n## Choosing Excel Files to Loop and Creating Path Names\n  \npath_name_grants_3 <-  paste0(\"CSV.Files/Grants.3/\", grant_filename_3)\nprint(path_name_grants_3)\n  \ntemp_dataframe_3 <- read_excel(path_name_grants_3, sheet = 3, col_names = TRUE, col_types = NULL, na = \"\", skip = 5) \n## Changing Column Names\n\ncolnames(temp_dataframe_3) <- make.names(colnames(temp_dataframe_3))\n  \ncolnames(temp_dataframe_3) <- c(\"OPE.ID\", \"School\", \"State\", \"Zip.Code\", \"School.Type\", \"YTD.Recipients.1\", \"YTD.Disbursements.1\", \"YTD.Recipients.2\", \"YTD.Disbursements.2\", \"YTD.Recipients.3\", \"YTD.Disbursements.3\")\n\ntemp_dataframe_3 <- temp_dataframe_3[c(\"School\", \"State\", \"School.Type\", \"YTD.Disbursements.1\", \"YTD.Disbursements.2\", \"YTD.Disbursements.3\")]\n  \ntemp_dataframe_3$Total.Disbursements <- temp_dataframe_3$YTD.Disbursements.1 + temp_dataframe_3$YTD.Disbursements.2 + temp_dataframe_3$YTD.Disbursements.3\n  \ntemp_dataframe_3 <- temp_dataframe_3[c(\"School\", \"State\", \"School.Type\", \"Total.Disbursements\")]\n  \ntemp_dataframe_3$Year <- grant_filename_3\n  \ntemp_dataframe_3$Year <- gsub(\"Q4\", \"\", temp_dataframe_3$Year)\ntemp_dataframe_3$Year <- gsub(\"AY.xls\", \"\", temp_dataframe_3$Year)\n  \nif (i == 1) {\nmega_dataframe_3 <- temp_dataframe_3\n} else (\n  mega_dataframe_3 <- rbind(mega_dataframe_3, temp_dataframe_3)\n)\n  \n}\n\n```\n\n### Table for Grants 2011-16\n```{r table3, warning=FALSE}\n\ndatatable(mega_dataframe_3)\n\n```\n\n\n## Creating Loops for Processing Data for Campus-Based Programs 2010-15\n```{r temp5, results=\"hide\", message=FALSE, warning=FALSE}\n\n# Gathering a List\n\nlist_files <- list.files(path = \"CSV.Files\")\n\nlist_files_campus <- list_files <- list.files(path = \"CSV.Files/Campus\")\n\ncampus_length <- length(list_files_campus)\nfor (i in 1:campus_length) {\n  \n## i is what cycle the loop is on\n  \ncampus_filename <- list_files_campus[i] \n\n## Choosing Excel Files to Loop and Creating Path Names\n  \npath_name_campus <-  paste0(\"CSV.Files/Campus/\", campus_filename)\nprint(path_name_campus)\n\ntemp_dataframe_campus <- read_excel(path_name_campus, sheet = 1, col_names = TRUE, col_types = NULL, na = \"\", skip = 3) \n  \n  \n## Changing Column Names\n  \ncolnames(temp_dataframe_campus) <- c(\"OPE.ID\", \"School\", \"State\", \"Zip.Code\", \"School.Type\", \"Recipients.1\", \"Federal.Award.1\", \"Disbursements.1\", \"Recipients.2\", \"Federal.Award.2\", \"Disbursements.2\", \"Recipients.3\", \"Federal.Award.3\", \"Disbursements.3\")\n  \ntemp_dataframe_campus <- temp_dataframe_campus[c(\"School\", \"State\", \"School.Type\", \"Disbursements.1\", \"Disbursements.2\", \"Disbursements.3\")]\n  \ntemp_dataframe_campus$Total.Disbursements <- temp_dataframe_campus$Disbursements.1 + temp_dataframe_campus$Disbursements.2 + temp_dataframe_campus$Disbursements.3\n  \ntemp_dataframe_campus <- temp_dataframe_campus[c(\"School\", \"State\", \"School.Type\", \"Total.Disbursements\")]\n  \ntemp_dataframe_campus$Year <- campus_filename\n  \ntemp_dataframe_campus$Year <- gsub(\"CBData.xls\", \"\", temp_dataframe_campus$Year)\n \nif (i == 1) {\nmega_dataframe_campus <- temp_dataframe_campus  \n} else (\n  mega_dataframe_campus <- rbind(mega_dataframe_campus, temp_dataframe_campus)\n)\n  \n}\n\n```\n\n\n### Table for Campus-Based Programs 2010-15\n\n```{r table5, warning=FALSE}\n\ndatatable(mega_dataframe_campus)\n\n```\n\n\n\n\n## Totaling Federal Student Aid\n\n```\nI exported the dataframes above and renamed them when I imported them.\n```\n\n```{r temp6, results=\"hide\", message=FALSE, warning=FALSE}\n\n# Importing CSV Files\n\ngrants.10.11 <- read.csv(file = \"grants.10-11.csv\")\ngrants.11.16 <- read.csv(file = \"grants.11-16.csv\")\nloans.10.12 <- read.csv(file = \"loans.10-12.csv\")\nloans.12.16 <- read.csv(file = \"loans.12-16.csv\")\ncampus.10.15 <- read.csv(file = \"campus.10-15.csv\")\n\n# Joining\n\nloans.10.16 <- full_join(loans.10.12, loans.12.16)\ngrants.10.16 <- full_join(grants.10.11, grants.11.16)\n\n# Grouping\n\nloan.state.summary <- loans.10.16 %>%\n  group_by(State, School.Type, Year) %>%\n  summarise(Sum.Type.loan=sum(Total.Disbursements))\n\ngrant.state.summary <- grants.10.16 %>%\n  group_by(State, School.Type, Year) %>%\n  summarise(Sum.Type.grant=sum(Total.Disbursements))\n\ncampus.state.summary <- campus.10.15 %>%\n  group_by(State, School.Type, Year) %>%\n  summarise(Sum.Type.campus=sum(Total.Disbursements))\n\nloan.state.summary <- subset(loan.state.summary, !is.na(loan.state.summary$State))\ngrant.state.summary <- subset(grant.state.summary, !is.na(grant.state.summary$State))\ncampus.state.summary <- subset(campus.state.summary, !is.na(campus.state.summary$State))\n\n# Fixing Cases\n\nloan.state.summary$School.Type <- str_to_title(loan.state.summary$School.Type)\n\ngrant.state.summary$School.Type <- str_to_title(grant.state.summary$School.Type)\n\ncampus.state.summary$School.Type <- str_to_title(campus.state.summary$School.Type)\n\nloan.state.summary$School.Type <- gsub(\"Private-Nonprofit\", \"Private\", loan.state.summary$School.Type)\n\ngrant.state.summary$School.Type <- gsub(\"Private-Nonprofit\", \"Private\", grant.state.summary$School.Type)\n\ncampus.state.summary$School.Type <- gsub(\"Private/Non-Profit\", \"Private\", campus.state.summary$School.Type)\n\nloan.state.summary$School.Type <- gsub(\"Foreign*\", \"\", loan.state.summary$School.Type)\n\ngrant.state.summary$School.Type <- gsub(\"Foreign*\", \"\", grant.state.summary$School.Type)\n\ncampus.state.summary$School.Type <- gsub(\"Foreign*\", \"\", campus.state.summary$School.Type)\n\nloan.state.summary$Year <- gsub(\"2010_2011\", \"1011\", loan.state.summary$Year)\n\nloan.state.summary$Year <- gsub(\"2011_2012\", \"1112\", loan.state.summary$Year)\n\nloan.state.summary$Year <- gsub(\"2012_2013\", \"1213\", loan.state.summary$Year)\n\nloan.state.summary$Year <- gsub(\"2013_2014\", \"1314\", loan.state.summary$Year)\n\nloan.state.summary$Year <- gsub(\"2014_2015\", \"1415\", loan.state.summary$Year)\n\nloan.state.summary$Year <- gsub(\"2015_2016\", \"1516\", loan.state.summary$Year)\n\ncampus.state.summary$Year <- gsub(\"2010-11\", \"1011\", campus.state.summary$Year)\n\ncampus.state.summary$Year <- gsub(\"2011-12\", \"1112\", campus.state.summary$Year)\n\ncampus.state.summary$Year <- gsub(\"2012-13\", \"1213\", campus.state.summary$Year)\n\ncampus.state.summary$Year <- gsub(\"2013-14\", \"1314\", campus.state.summary$Year)\n\ncampus.state.summary$Year <- gsub(\"2014-15\", \"1415\", campus.state.summary$Year)\n\ncampus.state.summary$Year <- str_trim(campus.state.summary$Year)\n\ngrant.state.summary$Year <- as.character(grant.state.summary$Year)\n\ncampus.state.summary$Year <- as.character(campus.state.summary$Year)\n\n# Joining\n\nloans_grants_join <- full_join(loan.state.summary, grant.state.summary)\n\n# Subsetting\n\nloans_grants_join <- subset(loans_grants_join, !is.na(loans_grants_join$State))\n\nloans_grants_join <- subset(loans_grants_join, State!=\"FC\")\nloans_grants_join <- subset(loans_grants_join, State!=\"PR\")\nloans_grants_join <- subset(loans_grants_join, State!=\"GU\")\nloans_grants_join <- subset(loans_grants_join, State!=\"AS\")\nloans_grants_join <- subset(loans_grants_join, State!=\"FM\")\nloans_grants_join <- subset(loans_grants_join, State!=\"MH\")\nloans_grants_join <- subset(loans_grants_join, State!=\"MP\")\nloans_grants_join <- subset(loans_grants_join, State!=\"VI\")\nloans_grants_join <- subset(loans_grants_join, State!=\"PW\")\n\nloans_grants_join$Total.Disbursement <- loans_grants_join$Sum.Type.loan + loans_grants_join$Sum.Type.grant\n\ncampus.state.summary <- subset(campus.state.summary, !is.na(campus.state.summary$State))\n\ncampus.state.summary <- subset(campus.state.summary, State!=\"FC\")\ncampus.state.summary <- subset(campus.state.summary, State!=\"PR\")\ncampus.state.summary <- subset(campus.state.summary, State!=\"GU\")\ncampus.state.summary <- subset(campus.state.summary, State!=\"AS\")\ncampus.state.summary <- subset(campus.state.summary, State!=\"FM\")\ncampus.state.summary <- subset(campus.state.summary, State!=\"MH\")\ncampus.state.summary <- subset(campus.state.summary, State!=\"MP\")\ncampus.state.summary <- subset(campus.state.summary, State!=\"VI\")\ncampus.state.summary <- subset(campus.state.summary, State!=\"PW\")\n\n# Exporting\n\nloans_grants_join <- write.csv(loans_grants_join, \"loans.grants.join.csv\")\ncampus.state.summary <- write.csv(campus.state.summary, \"campus.csv\")\n\n```\n\n```\nI had to export the files and manually join them in Excel and then import the finalized version because the \ncampus-based programs did not have data for the year 2015-16 and some proprietary schools were missing.\n```\n\n```{r temp8, results=\"hide\", message=FALSE, warning=FALSE}\n\n# Importing\n\nloans.grants.campus.join <- read.csv(file = \"loans.grants.campus.join.csv\")\n\n# Fixing Cases\n\nloans.grants.campus.join$State <- str_trim(loans.grants.campus.join$State)\nloans.grants.campus.join$Total.Disbursement <- as.numeric(loans.grants.campus.join$Total.Disbursement)\n\n# Final Dataframe\n\nloans.grants.campus.total <- loans.grants.campus.join %>%\n  dplyr::select(State, School.Type, Year, Total.Disbursement) %>%\n  group_by(State, Year) %>%\n  mutate(Year.Total=sum(Total.Disbursement), Percent=round(Total.Disbursement/Year.Total, 4)) %>%\n  select(State, School.Type, Year, Percent) %>%\nspread(Year, Percent)\n\n\n```\n\n\n### Table for Total Federal Student Aid\n\n```{r table6, warning=FALSE}\n\ndatatable(loans.grants.campus.total)\n\n```\n\n\n## Creating Looping and Totaling Enrollment\n\n```{r temp7, results=\"hide\", message=FALSE, warning=FALSE}\n\n# Gathering a List\n\nlist.files(path = \"CSV.Files/Enrollment\")\nlist_files <- list.files(path = \"CSV.Files/Enrollment\")\n\n# Looping for Bringing in Excel Files\n\n# Enrollment Looping\n\n## File Names\n\nlist_files_enroll <- list_files <- list.files(path = \"CSV.Files/Enrollment\")\n\n## Loop Length\n\nenroll_length <- length(list_files_enroll)\nfor (i in 1:enroll_length) {\n  \n## i is what cycle the loop is on\n  \nenroll_filename <- list_files_enroll[i] \n\n## Choosing Excel Files to Loop and Creating Path Names\n  \npath_name_enroll <-  paste0(\"CSV.Files/Enrollment/\", enroll_filename)\nprint(path_name_enroll)\n  \n  temp_enroll <- read_excel(path_name_enroll, sheet = 1, col_names = TRUE, col_types = NULL, na = \"\") \n  \n  ## Changing Column Names\n  \n  colnames(temp_enroll) <- make.names(colnames(temp_enroll))\n  \n  temp_enroll$Year <- enroll_filename\n  \n  temp_enroll$Year <- gsub(\"2010-11.enroll.CT.xls\", \"2010-11\", temp_enroll$Year)\n  temp_enroll$Year <- gsub(\"2011-12.enroll.CT.xls\", \"2011-12\", temp_enroll$Year)\n  temp_enroll$Year <- gsub(\"2012-13.enroll.CT.xls\", \"2012-13\", temp_enroll$Year)\n  temp_enroll$Year <- gsub(\"2013-14.enroll.CT.xls\", \"2013-14\", temp_enroll$Year)\n  \n  if (i == 1) {\n    mega_enroll <- temp_enroll \n  } else (\n    mega_enroll <- rbind(mega_enroll, temp_enroll)\n  )\n\n}\n\n## Exporting\n\nwrite.csv(mega_enroll, \"enroll.10.14.final.csv\")\n\n# Importing\n\nenroll.10.14 <- read.csv(file = \"enroll.10.14.csv\")\n\ncollege.name <- read_excel(path = \"college.names.final.xlsx\", sheet = 1, col_names = TRUE, col_types = NULL, na = \"\")\n\n\n# Changing Column Names\n\nenroll.10.14 <- enroll.10.14[c(\"School\", \"Enrollment\", \"Year\")]\ncollege.name <- college.name[c(\"School\", \"Type\")]\ncollege.name <- subset(college.name, !is.na(college.name$School))\n\n# Fixing Cases\n\ncollege.name$School <- str_to_title(college.name$School)\nenroll.10.14$School <- str_to_title(enroll.10.14$School)\ncollege.name$School <- str_trim(college.name$School)\nenroll.10.14$School <- str_trim(enroll.10.14$School)\nenroll.10.14$School <- as.character(enroll.10.14$School)\n\n# Joining\n\nenroll.join <- full_join(enroll.10.14, college.name)\n\n# Cleaning\n\nenroll.join <- subset(enroll.join, !is.na(enroll.join$Type))\nenroll.join <- subset(enroll.join, Enrollment!=\"NA\")\nenroll.join$Enrollment <- as.numeric(enroll.join$Enrollment)\n\n# Final Dataframe\n\nenroll.final <- enroll.join %>%\n  dplyr::select(School, Enrollment, Type, Year) %>%\n  group_by(Year, Type) %>%\n  summarise(Enroll.Total=sum(Enrollment, na.rm=T)) %>%\n  mutate(Year.Total=sum(Enroll.Total), Percent=round(Enroll.Total/Year.Total, 4)) %>%\n  select(Type, Year, Percent) %>%\n  spread(Year, Percent)\n\n```\n\n\n### Table for Connecticut Enrollment\n\n```{r table7, warning=FALSE}\n\ndatatable(enroll.final)\n\n```\n",
    "created" : 1468246579641.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "174885072",
    "id" : "7BB3FAF2",
    "lastKnownWriteTime" : 1467910138,
    "last_content_update" : 1467910138,
    "path" : "~/Documents/CT Mirror/FAFSA/index.Rmd",
    "project_path" : "index.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}